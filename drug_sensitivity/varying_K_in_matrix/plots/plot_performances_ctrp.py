'''
Plot the performances of HMF D-MF and D-MTF, with varying values for Kt, on
the GDSC dataset.
'''

import matplotlib.pyplot as plt

MSE_max, MSE_min = 0.11, 0.085
fraction_min, fraction_max = 0.25, 0.95

values_K = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 16, 18, 20, 25, 30]

perf_hmf_mf_ctrp = {'R^2': [0.39601265774478034, 0.3994055427150653, 0.41697298985793835, 0.4199332641133404, 0.4239125135383608, 0.43345064722477183, 0.43064198375497487, 0.42885498067133854, 0.4209372112517296, 0.42530373766106067, 0.41837792304243965, 0.40854229150490384, 0.40295856898275983, 0.40917061887450784, 0.39386098442445266, 0.3948215300394192, 0.3748921724032922], 'MSE': [0.096003862679150481, 0.095432948334725182, 0.092692831976889628, 0.092210195716046509, 0.091545077328923988, 0.090122527387984, 0.090565933834273485, 0.090824809084094599, 0.091922310874882493, 0.091358687126241706, 0.092413073259747916, 0.094040671687050173, 0.094853731005173275, 0.093920726863974333, 0.096309353785351298, 0.09622223088188489, 0.099335159256396355], 'Rp': [0.62973458340270771, 0.63221332140062014, 0.64634352844001275, 0.64881982892103818, 0.65196915239762465, 0.65889801585245733, 0.65732073920634593, 0.6568800547670961, 0.65164347852607407, 0.65456382799755986, 0.65069182017929816, 0.64505029140092218, 0.64262544342424077, 0.64705869778389791, 0.63863724277750444, 0.6398273837756413, 0.62573156714127065]}
perf_hmf_mtf_ctrp = {'R^2': [], 'MSE': [], 'Rp': []}


''' Plot '''
fig = plt.figure(figsize=(3.8,3.0))
fig.subplots_adjust(left=0.16, right=0.965, bottom=0.12, top=0.97)
plt.xlabel("Kt", fontsize=12, labelpad=1) #fontsize=8
plt.ylabel("MSE", fontsize=12, labelpad=3) #fontsize=8, labelpad=-1
plt.yticks(fontsize=8) #fontsize=6
plt.xticks(fontsize=8) #fontsize=6

plt.plot(values_K, perf_hmf_mf_ctrp['MSE'], linestyle='-', linewidth=1.2, marker='o', label='HMF D-MF', c='red', markersize=5)
#plt.plot(x=values_K, y=perf_hmf_mtf_ctrp, linestyle='-', linewidth=1.2, marker='o', label='HMF D-MTF', c='blue', markersize=5)
 
plt.xlim(0,values_K[-1]+1)
plt.ylim(MSE_min,MSE_max)
plt.legend(loc='upper left',fontsize=10)
    
plt.savefig("./varying_K_ctrp.png", dpi=600)